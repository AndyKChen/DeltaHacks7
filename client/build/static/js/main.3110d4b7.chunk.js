(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{129:function(e,t,n){e.exports=n.p+"static/media/camera.ff36203c.svg"},130:function(e,t,n){e.exports=n.p+"static/media/camera-stop.feb48833.svg"},131:function(e,t,n){e.exports=n.p+"static/media/fullscreen.7722d32d.svg"},132:function(e,t,n){e.exports=n.p+"static/media/minimize.612b180a.svg"},133:function(e,t,n){e.exports=n.p+"static/media/ringtone.0be3c651.mp3"},134:function(e,t,n){e.exports=n.p+"static/media/share.269beb7b.svg"},148:function(e,t,n){e.exports=n(222)},149:function(e,t,n){},182:function(e,t){},184:function(e,t){},217:function(e,t){},222:function(e,t,n){"use strict";n.r(t);n(149),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(265),r=n(263),c=n(18),o=n(9),i=n.n(o),l=n(16),s=n(32),u=n(11),d=n(0),m=n.n(d),p=n(267),f=n(259),g=n(137),b=n.n(g),v=n(73),h=n.n(v),x=n(118),E=n(256),w=n(38),y=n(124),j=n.n(y),O=n(125),k=n.n(O),N=n(258),C=n(123),I=n.n(C),B=n(253),S=Object(B.a)((function(e){return{navBar:{"background-color":"#232323"},ctr:{margin:"auto"},linkButton:{margin:"5%"}}})),F=function(){var e=S(),t=m.a.useState(0),n=Object(u.a)(t,2),a=n[0],r=n[1];return m.a.createElement(w.a,null,m.a.createElement(E.a,{position:"static",className:e.navBar},m.a.createElement("section",{className:e.ctr},m.a.createElement("div",{value:a,onChange:function(e,t){r(t)},"aria-label":"styled tabs example"},m.a.createElement(N.a,{container:!0,spacing:3},m.a.createElement(N.a,{item:!0,xs:4},m.a.createElement(f.a,{color:"primary",href:"/",className:e.linkButton},"Home",m.a.createElement(I.a,null))),m.a.createElement(N.a,{item:!0,xs:4},m.a.createElement(f.a,{color:"primary",href:"/train",className:e.linkButton},"Train",m.a.createElement(j.a,null))),m.a.createElement(N.a,{item:!0,xs:4},m.a.createElement(f.a,{color:"primary",href:"https://www.handspeak.com/word/search/index.php?id=2857",target:"_blank",className:e.linkButton},"Documentation",m.a.createElement(k.a,null))))))))},T=n(85),L=n.n(T),R=n(126),M=n(260),P=n(128),W=(n(192),P.a.initializeApp({apiKey:"AIzaSyD7613OE85YbciZQNMhaXdhBUXWXiZIMxY",authDomain:"react-video0306dev.firebaseapp.com",databaseURL:"https://react-video0306dev-default-rtdb.firebaseio.com/",projectId:"react-video0306dev",storageBucket:"react-video0306dev.appspot.com",messagingSenderId:"172239831937",appId:"1:172239831937:web:4772e4ee1ed41666f89e80"})),A=W.auth(),D=n(74),U=m.a.createContext();function z(){return Object(d.useContext)(U)}function H(e){var t=e.children,n=Object(d.useState)(),a=Object(u.a)(n,2),r=a[0],c=a[1];Object(d.useEffect)((function(){return A.onAuthStateChanged((function(e){c(e)}))}),[]);var o={currentUser:r,login:function(e,t){D.a.auth().setPersistence(D.a.auth.Auth.Persistence.SESSION).then((function(){return D.a.auth().signInWithEmailAndPassword(e,t)})).catch((function(e){e.code,e.message}))},signup:function(e,t){return A.createUserWithEmailAndPassword(e,t)},logout:function(){return A.signOut()}};return m.a.createElement(U.Provider,{value:o},t)}var V=Object(B.a)((function(e){return{videoFrame:{position:"relative",width:"500px",height:"400px"},video:{position:"relative",border:"3px solid grey",borderRadius:"20px",width:"100%",height:"100%",objectFit:"cover"},fab:{cursor:"default",backgroundColor:"rgba(0, 0, 0, 0.6)",pointerEvents:"none",width:"200px",height:"auto"},nameContainer:{position:"absolute",right:"10px",bottom:"10px"},name:{fontSize:"16px",fontWeight:"100",color:"white",textTransform:"none"},prediction:{fontSize:"14px",fontWeight:"100",color:"white",textTransform:"none"}}})),_=function(e){var t=e.video,n=e.id,a=e.prediction,r=(e.name,V()),c=m.a.createElement("video",{autoPlay:!0,playsInline:!0,muted:!0,id:"webcam",className:r.video});return t&&(c=t),m.a.createElement("div",{className:r.videoFrame},c,m.a.createElement("div",{className:r.nameContainer},m.a.createElement(M.a,{disableRipple:!0,disableFocusRipple:!0,variant:"extended","aria-label":"add",className:r.fab},m.a.createElement("div",null,m.a.createElement("div",{className:r.name},"Andy"),m.a.createElement("div",{className:r.prediction},"Prediction (",m.a.createElement("span",{id:"confidence"}),"%): ",m.a.createElement("span",{id:n},a))))))},J=n(135),Y=n.n(J),q=n(136),G=n.n(q),Z=n(129),K=n.n(Z),Q=n(130),X=n.n(Q),$=n(131),ee=n.n($),te=n(86),ne=n.n(te),ae=n(132),re=n.n(ae),ce=n(133),oe=n.n(ce),ie=n(134),le=n.n(ie),se=Object(B.a)((function(e){return{videoBackground:{background:"black",padding:"20px",boxSizing:"border-box"},videoContainer:{position:"relative",flexGrow:"5",background:e.palette.secondary.main,height:"90vh",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"20px"},twoVideos:{display:"flex",gap:"100px"},video:{border:"3px solid grey",borderRadius:"20px",width:"100%",height:"100%",objectFit:"cover"},btnContainer:{display:"flex",justifyContent:"center",alignItems:"center"},downloadBtn:{margin:"2px",position:"absolute",right:"10px",top:"10px"},endCallBtn:{background:"#ef5a5c",color:"#ffffff",marginTop:"15px","&:hover":{backgroundColor:"#f28d8e"}}}})),ue=[{id:1,name:"none",count:5},{id:2,name:"hello",count:5},{id:3,name:"i love you",count:5},{id:4,name:"thank you",count:5},{id:5,name:"I",count:5},{id:5,name:"like",count:5},{id:5,name:"you",count:5},{id:5,name:"goose",count:5}],de=new x.Howl({src:[oe.a],loop:!0,preload:!0}),me=function(){var e,t,n,a=Object(d.useState)(""),r=Object(u.a)(a,2),o=r[0],g=r[1],v=Object(d.useState)(""),x=Object(u.a)(v,2),E=x[0],w=x[1],y=Object(d.useState)({}),j=Object(u.a)(y,2),O=j[0],k=j[1],N=Object(d.useState)(),C=Object(u.a)(N,2),I=C[0],B=C[1],S=Object(d.useState)(!1),T=Object(u.a)(S,2),M=T[0],P=T[1],W=Object(d.useState)(""),A=Object(u.a)(W,2),D=A[0],U=A[1],H=Object(d.useState)(!1),V=Object(u.a)(H,2),J=V[0],q=V[1],Z=Object(d.useState)(),Q=Object(u.a)(Z,2),$=Q[0],te=Q[1],ae=Object(d.useState)(!1),ce=Object(u.a)(ae,2),oe=ce[0],ie=ce[1],me=Object(d.useState)(!1),pe=Object(u.a)(me,2),fe=pe[0],ge=pe[1],be=Object(d.useState)(""),ve=Object(u.a)(be,2),he=ve[0],xe=ve[1],Ee=Object(d.useState)(!1),we=Object(u.a)(Ee,2),ye=we[0],je=we[1],Oe=Object(d.useState)(""),ke=Object(u.a)(Oe,2),Ne=ke[0],Ce=ke[1],Ie=Object(d.useState)(!1),Be=Object(u.a)(Ie,2),Se=Be[0],Fe=Be[1],Te=Object(d.useState)(!1),Le=Object(u.a)(Te,2),Re=Le[0],Me=Le[1],Pe=Object(d.useState)(!1),We=Object(u.a)(Pe,2),Ae=We[0],De=We[1],Ue=Object(d.useState)(!1),ze=Object(u.a)(Ue,2),He=ze[0],Ve=ze[1],_e=Object(d.useState)(""),Je=Object(u.a)(_e,2),Ye=Je[0],qe=Je[1],Ge=Object(d.useRef)(),Ze=Object(d.useRef)(),Ke=Object(d.useRef)(),Qe=Object(d.useRef)(),Xe=se(),$e=Object(d.useRef)(),et=Object(d.useState)(""),tt=Object(u.a)(et,2),nt=tt[0],at=tt[1],rt=z(),ct=rt.currentUser,ot=rt.logout,it=Object(c.g)();function lt(){Qe.current.destroy(),Ke.current.emit("close",{to:D}),window.location.reload()}function st(){I&&(Fe(!Se),I.getAudioTracks()[0].enabled=Se)}function ut(){I&&(Me(!Re),I.getVideoTracks()[0].enabled=Re)}(Object(d.useEffect)((function(){Ke.current=ne.a.connect("/"),Ke.current.on("yourID",(function(e){w(e)})),Ke.current.on("allUsers",(function(e){k(e)})),Ke.current.on("hey",(function(e){P(!0),de.play(),U(e.from),te(e.signal)}))}),[]),I)&&(e=m.a.createElement(_,{name:ct.email,id:"predictionsUser",prediction:o,video:m.a.createElement("video",(t={className:"userVideo",playsInline:!0,muted:!0,ref:Ge},Object(s.a)(t,"className",Xe.video),Object(s.a)(t,"autoPlay",!0),t))}));if(oe)if(oe&&Ae)n=m.a.createElement(_,{video:m.a.createElement("video",{playsInline:!0,ref:Ze,className:"partnerVideo cover ".concat(Xe.video),autoPlay:!0})});else if(oe&&!Ae){var dt;n=m.a.createElement(_,{name:ct.email,id:"prediction1",prediction:Ye,video:m.a.createElement("video",(dt={className:"partnerVideo",playsInline:!0,ref:Ze},Object(s.a)(dt,"className","partnerVideo ".concat(Xe.video," ")),Object(s.a)(dt,"autoPlay",!0),dt))})}Se?Y.a:G.a,Re?X.a:K.a;var mt;le.a;function pt(e){if(""===e||!O[e]||e===E)return Ce("We think the username entered is wrong. Please check again and retry!"),void je(!0);navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(t){!function(){gt.apply(this,arguments)}(),B(t),q(!0),U(e),Ge.current&&(Ge.current.srcObject=t);var n=new L.a({initiator:!0,trickle:!1,config:{iceServers:[{url:"stun:stun01.sipphone.com"},{url:"stun:stun.ekiga.net"},{url:"stun:stun.fwdnet.net"},{url:"stun:stun.ideasip.com"},{url:"stun:stun.iptel.org"},{url:"stun:stun.rixtelecom.se"},{url:"stun:stun.schlund.de"},{url:"stun:stun.l.google.com:19302"},{url:"stun:stun1.l.google.com:19302"},{url:"stun:stun2.l.google.com:19302"},{url:"stun:stun3.l.google.com:19302"},{url:"stun:stun4.l.google.com:19302"},{url:"stun:stunserver.org"},{url:"stun:stun.softjoys.com"},{url:"stun:stun.voiparound.com"},{url:"stun:stun.voipbuster.com"},{url:"stun:stun.voipstunt.com"},{url:"stun:stun.voxgratia.org"},{url:"stun:stun.xten.com"},{url:"turn:numb.viagenie.ca",credential:"muazkh",username:"webrtc@live.com"},{url:"turn:192.158.29.39:3478?transport=udp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"},{url:"turn:192.158.29.39:3478?transport=tcp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"}]},stream:t});Qe.current=n,n.on("signal",(function(t){Ke.current.emit("callUser",{userToCall:e,signalData:t,from:E})})),n.on("stream",(function(e){Ze.current&&(Ze.current.srcObject=e)})),n.on("error",(function(e){lt()})),Ke.current.on("callAccepted",(function(e){ie(!0),n.signal(e)})),Ke.current.on("close",(function(){window.location.reload()})),Ke.current.on("prediction-recieved",(function(e){console.log(e,M),qe(e)})),Ke.current.on("rejected",(function(){window.location.reload()}))})).catch((function(){Ce("You cannot place/ receive a call without granting video and audio permissions! Please change your settings to use this app."),je(!0)}))}function ft(){return(ft=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return at(""),e.prev=1,e.next=4,ot();case 4:it.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),at("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function gt(){return(gt=Object(l.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={username:ct.email},e.next=3,fetch("/user-model",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,console.log("data",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ae?re.a:ee.a,!M||oe||fe||(mt=m.a.createElement("div",{className:"incomingCallContainer"},m.a.createElement("div",{className:"incomingCall flex flex-column"},m.a.createElement("div",null,m.a.createElement("span",{className:"callerID"},D)," is calling you!"),m.a.createElement("div",{className:"incomingCallButtons flex"},m.a.createElement("button",{name:"accept",className:"alertButtonPrimary",onClick:function(){return de.unload(),void navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){B(e),Ge.current&&(Ge.current.srcObject=e),ie(!0);var t=new L.a({initiator:!1,trickle:!1,stream:e});Qe.current=t,t.on("signal",(function(e){Ke.current.emit("acceptCall",{signal:e,to:D})})),t.on("stream",(function(e){Ze.current.srcObject=e})),t.on("error",(function(e){lt()})),t.signal($),Ke.current.on("close",(function(){window.location.reload()}))})).catch((function(){Ce("You cannot place/ receive a call without granting video and audio permissions! Please change your settings to use this app."),je(!0)}))}},"Accept"),m.a.createElement("button",{name:"reject",className:"alertButtonSecondary",onClick:function(){return de.unload(),ge(!0),Ke.current.emit("rejected",{to:D}),void window.location.reload()}},"Reject")))));var bt=m.a.createElement(m.a.Fragment,null,m.a.createElement(F,null),m.a.createElement("main",null,m.a.createElement("div",{className:"u-margin-top-xxlarge u-margin-bottom-xxlarge"},m.a.createElement("div",{className:"o-wrapper-l"},m.a.createElement("div",{className:"hero flex flex-column"},m.a.createElement("div",null,m.a.createElement("div",{className:"welcomeText"},"motion"),m.a.createElement("div",{className:"descriptionText"},"across the world for free")),m.a.createElement("div",null,m.a.createElement("div",{className:"actionText"},"Ready for a call,"," ",m.a.createElement("span",{className:He?"username highlight copied":"username highlight",onClick:function(){navigator.clipboard.writeText(E),Ve(!0),setInterval((function(){Ve(!1)}),1e3)}},E),"?")),m.a.createElement("div",{className:"callBox flex"},m.a.createElement("input",{type:"text",placeholder:"Friend ID #",value:he,onChange:function(e){return xe(e.target.value)},className:"form-input"}),m.a.createElement("button",{onClick:function(){return pt(he.toLowerCase().trim())},className:"primaryButton"},"Call")),m.a.createElement("div",null,"Give a friend your username (",m.a.createElement("span",{className:"username"},E),") or enter their ID and press call"),nt&&m.a.createElement(p.a,{severity:"error"},nt),m.a.createElement("div",{className:Xe.logoutButton},ct?m.a.createElement(f.a,{onClick:function(){return ft.apply(this,arguments)}},"Log Out"):m.a.createElement("div",null,m.a.createElement(f.a,{href:"/signup"},"SignUP"),m.a.createElement(f.a,{href:"/login"},"Login"))),m.a.createElement("strong",null,"Email:")," ",ct&&ct.email))))),vt=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,a,r,c,s,u,d,m,p,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("predictions"),n=document.getElementById("confidence"),a=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Loading KNN Classifier"),e.next=3,window.knnClassifier.create();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Loading Mobilenet Model"),e.next=3,window.mobilenet.load();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Loading Webcam Input"),e.next=3,document.getElementById("webcam");case 3:return t=e.sent,e.next=6,window.tf.data.webcam(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=7,r();case 7:return s=e.sent,e.next=10,a();case 10:return u=e.sent,e.next=13,c();case 13:return d=e.sent,m=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.target.files,console.log("Uploading"),r=new FileReader,a.length>0&&(r.onload=Object(l.a)(i.a.mark((function e(){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.result,a=JSON.parse(n),Object.keys(a).forEach((function(e){a[e]=window.tf.tensor(a[e],[a[e].length/1024,1024])})),t.setClassifierDataset(a),console.log("Classifier has been set up! Congrats! ");case 5:case"end":return e.stop()}}),e)})))),e.next=6,r.readAsText(a[0]);case 6:console.log("Uploaded");case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){document.getElementById("load_button").addEventListener("change",(function(e){return m(u,e)}))},f=function(){var e=Object(l.a)(i.a.mark((function e(){var a,r,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Machine Learning on the web is ready");case 1:if(!(u.getNumClasses()>0)){e.next=15;break}return e.next=5,d.capture();case 5:return a=e.sent,r=s.infer(a,"conv_preds"),e.next=9,u.predictClass(r);case 9:c=e.sent,l="";try{t.innerHTML=ue[c.label-1].name,l=ue[c.label-1].name,n.innerHTML=Math.floor(100*c.confidences[c.label])}catch(i){t.innerHTML=c.label-1,l=c.label-1,n.innerHTML=Math.floor(100*c.confidences[c.label])}l!==o&&g(l),document.getElementById("change-prediction").click(),a.dispose();case 15:return e.next=17,window.tf.nextFrame();case 17:e.next=1;break;case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=19,p();case 19:return console.log(u),e.next=22,f();case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return window.onload=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt();case 2:case"end":return e.stop()}}),e)}))),m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{style:{display:fe||oe||J?"none":"block"}},bt,m.a.createElement(R.a,{visible:ye,onClose:function(){return je(!1)},width:20,height:5,measure:"em",closeOnEsc:!0},m.a.createElement("div",null,Ne)),mt),m.a.createElement("div",{className:"callContainer ".concat(Xe.videoBackground),style:{display:fe||oe||J?"block":"none"}},m.a.createElement("div",{className:Xe.videoContainer},m.a.createElement(f.a,{variant:"outlined",color:"primary",className:Xe.downloadBtn,startIcon:m.a.createElement(h.a,null),onClick:function(){return $e.current.click()}},"Upload"),m.a.createElement("div",{className:Xe.twoVideos},m.a.createElement("div",{className:""},n),m.a.createElement("div",{className:""},e))),m.a.createElement("div",{className:Xe.btnContainer},m.a.createElement(f.a,{variant:"contained",className:Xe.endCallBtn,startIcon:m.a.createElement(b.a,null),onClick:lt},"End Call"))),nt&&m.a.createElement(p.a,{severity:"error"},nt),m.a.createElement("div",{hidden:!0},m.a.createElement("div",{id:"video-grid"}),m.a.createElement("div",{id:"loading"}),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"mycam"},m.a.createElement("video",{hidden:!0,autoPlay:!0,playsInline:!0,muted:!0,id:"webcam",className:"cam"}),m.a.createElement("div",{className:"grey-bg"},m.a.createElement("div",null," prediction1 ",Ye),m.a.createElement("div",null," predictionsUser ",o),m.a.createElement("div",{className:"row text-center"},m.a.createElement("h3",null,"Prediction: ",m.a.createElement("span",{id:"predictions"})),m.a.createElement("h3",null,"Probability : ",m.a.createElement("span",{id:"confidence"})," %"),m.a.createElement("button",{hidden:!0,onClick:function(){Ke.current=ne.a.connect("/");var e=document.getElementById("predictions").innerHTML;console.log(e),Ke.current.emit("send-prediction",e)},id:"change-prediction"})))),m.a.createElement("div",{className:"column flex-2-container"},m.a.createElement("div",null,m.a.createElement("div",{className:"model"},m.a.createElement("input",{ref:$e,id:"load_button",className:"fileinputs",type:"file",accept:".json"}),m.a.createElement("label",{htmlFor:"upload-photo"},"Browse...")),m.a.createElement("div",{id:"training-cards"}))))))},pe=function(){return m.a.createElement("div",null,m.a.createElement(F,null),m.a.createElement(f.a,{variant:"contained",color:"primary"},"Primary"))},fe=n(138),ge=n.n(fe),be=Object(B.a)((function(e){var t;return{background:{display:"flex",alignItems:"center",backgroundColor:"#21242b",width:"100vw",height:"100vh",padding:"80px"},videoContainer:{position:"relative",flexGrow:"5",background:e.palette.secondary.main,width:"600px",height:"600px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"20px"},chatContainer:{flexGrow:"1",marginLeft:"20px"},downloadButtonSet:{position:"absolute",right:"20px",top:"20px",zIndex:"10"},downloadBtn:{margin:"2px"},trainingCards:{color:"white",fontSize:"24px",height:"500px",overflowY:"auto",width:"400px",marginTop:"5px","&::-webkit-scrollbar":{padding:"5px",width:"8px"},"&::-webkit-scrollbar-track":{background:e.palette.secondary.main},"&::-webkit-scrollbar-thumb":{borderRadius:"5px",background:e.palette.primary.main}},classCard:{backgroundColor:"#1a1b20",display:"flex",justifyContent:"space-between",padding:"10px",marginTop:"10px",width:"100%"},classNameLabel:{fontSize:"18px"},imageNameLabel:{fontSize:"12px"},addImage:(t={fontSize:"12px",backgroundColor:"#2983fb",border:"none",color:"white",padding:"10px",textAlign:"center",textDecoration:"none",display:"inlineBlock"},Object(s.a)(t,"fontSize","12px"),Object(s.a)(t,"margin","4px 2px"),Object(s.a)(t,"cursor","pointer"),Object(s.a)(t,"borderRadius","10px"),t),inputField:{width:"70%",border:"0",borderBottom:"2px solid gray",outline:"0",fontSize:"18px",color:"white",padding:"7px 0",background:"transparent",transition:"border-color 0.2s"},addButton:{fontSize:"12px",padding:"6px",marginLeft:"5px",color:"#ffffff"}}})),ve=function(){var e=0,t=[],n=be(),a=Object(d.useRef)(null),r=z().currentUser,c=function(){var a=Object(l.a)(i.a.mark((function a(){var r,c,o,s,u,d,m,p,f,g,b,v,h,x,E;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return b=function(){g.style.display="none"},r=document.getElementById("training-cards"),c=document.getElementById("predictions"),o=document.getElementById("confidence"),s=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Loading KNN Classifier"),e.next=3,window.knnClassifier.create();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Loading Mobilenet Model"),e.next=3,window.mobilenet.load();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Loading Webcam Input"),e.next=3,document.getElementById("webcam");case 3:return t=e.sent,e.next=6,window.tf.data.webcam(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.next=9,u();case 9:return m=a.sent,a.next=12,s();case 12:return p=a.sent,a.next=15,d();case 15:return f=a.sent,g=document.getElementById("loading"),b(),v=function(){var a=document.getElementById("inputClassName"),c=a.value;t.some((function(e){return e.name===c}))||(e+=1,t.push({id:e,name:c,count:0})),r.innerHTML+="<div class=".concat(n.classCard,"><div class=").concat(n.cardText,"><div class=").concat(n.classNameLabel,"> Word : <span>")+c+"</span></div><div class=".concat(n.imageNameLabel,'>Images : <span id = "images-')+e+'" >0</span></div></div ><div><button class='.concat(n.addImage,' id="')+e+'">Add Image <i class="fas fa-plus fa-1x"></i></button></div></div>',document.getElementById(e.toString()).addEventListener("click",(function(){return x(e)})),a.value="",console.log(t)},h=function(){document.getElementById("inputClassName").value;document.getElementById("add-button").addEventListener("click",(function(){return v()}))},x=function(){var e=Object(l.a)(i.a.mark((function e(n){var a,r,c,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.capture();case 2:a=e.sent,r=m.infer(a,"conv_preds"),p.addExample(r,n),c=t.findIndex((function(e){return e.id===n})),o=t[c].count,o+=1,t[c].count=o,l="images-"+n.toString(),document.getElementById(l).innerHTML=o,a.dispose();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(i.a.mark((function e(){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Machine Learning on the web is ready");case 1:if(!(p.getNumClasses()>0)){e.next=12;break}return e.next=5,f.capture();case 5:return n=e.sent,a=m.infer(n,"conv_preds"),e.next=9,p.predictClass(a);case 9:r=e.sent;try{c.innerHTML=t[r.label-1].name,o.innerHTML=Math.floor(100*r.confidences[r.label]),document.getElementById("change-prediction").click()}catch(i){c.innerHTML=r.label-1,o.innerHTML=Math.floor(100*r.confidences[r.label])}n.dispose();case 12:return e.next=14,window.tf.nextFrame();case 14:e.next=1;break;case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.next=24,h();case 24:return a.next=26,E();case 26:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();function o(){return(o=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={username:r.email,model:{something:0},classes:["abc","zxc"]},e.next=3,fetch("/upload-model",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:n=e.sent,console.log("donwloaded",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return window.onload=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:case"end":return e.stop()}}),e)}))),m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{id:"loading"}),m.a.createElement(F,null),m.a.createElement("div",{className:n.background},m.a.createElement("div",{className:n.videoContainer},m.a.createElement("div",{className:n.downloadButtonSet},m.a.createElement(f.a,{id:"save_button",color:"primary",variant:"outlined",className:n.downloadBtn,startIcon:m.a.createElement(ge.a,null),onClick:function(){return function(){return o.apply(this,arguments)}()}},"Download Model"),m.a.createElement(f.a,{variant:"outlined",color:"primary",className:n.downloadBtn,startIcon:m.a.createElement(h.a,null),onClick:function(){return a.current.click()}},"Upload"),m.a.createElement("input",{ref:a,id:"load_button",className:"fileinputs",type:"file",accept:".json",style:{display:"none"}})),m.a.createElement("div",null,m.a.createElement(_,null))),m.a.createElement("div",{className:n.chatContainer},m.a.createElement("div",{className:"column flex-2-container"},m.a.createElement("div",null,m.a.createElement("div",{className:n.addClass},m.a.createElement("input",{id:"inputClassName",type:"text",placeholder:"Enter word here",name:"option",className:n.inputField,autoComplete:"off"}),m.a.createElement(f.a,{variant:"contained",color:"primary",className:n.addButton,id:"add-button"},"Add")))),m.a.createElement("div",{id:"training-cards",className:n.trainingCards}))))},he=n(261),xe=n(262),Ee=n(264),we=n(266),ye=Object(B.a)((function(e){return{rootRoot:{backgroundColor:"#21242b",display:"flex",justifyContent:"center",paddingTop:"10%",height:"100vh"},root:{display:"flex",justifyContent:"center",color:"#FFFFFF",backgroundColor:"#4e5361",height:"70%"},title:{fontWeight:"600"},container:{width:"70%",margin:0,padding:0},paper:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"3%"},form:{width:"90%",maxWidth:"600px",marginTop:e.spacing(1),marginBottom:"100px",alignItems:"center"},checkBox:{width:"100%",margin:"auto"},textField:{maxWidth:"500px",color:"primary",borderColor:"primary"},submit:{width:"50%",margin:"20px 25% 25px"},links:{textAlign:"center",margin:"auto"}}}));function je(){var e=ye(),t=Object(d.useRef)(),n=Object(d.useRef)(),a=z().signup,o=Object(d.useState)(""),s=Object(u.a)(o,2),g=s[0],b=s[1],v=Object(d.useState)(!1),h=Object(u.a)(v,2),x=h[0],E=h[1],w=Object(c.g)();function y(){return(y=Object(l.a)(i.a.mark((function e(r){var c,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),console.log(t.current.value),console.log(n.current.value),c=document.getElementById("email").value,o=document.getElementById("password").value,l=document.getElementById("password-reenter").value,console.log(c),e.prev=7,b(""),E(!0),o===l){e.next=12;break}throw g;case 12:return e.next=14,a(c,o);case 14:w.push("/login"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),b("Failed to create an account");case 20:E(!1);case 21:case"end":return e.stop()}}),e,null,[[7,17]])})))).apply(this,arguments)}return m.a.createElement("div",{className:e.rootRoot},m.a.createElement(he.a,{variant:"outlined",raised:"true",className:e.root},m.a.createElement(xe.a,{component:"main",maxWidth:"xs",className:e.container},m.a.createElement(r.a,null),m.a.createElement("div",{className:e.paper},m.a.createElement(Ee.a,{component:"h1",variant:"h5",color:"primary",className:e.title},"Sign Up"),g&&m.a.createElement(p.a,{severity:"error"},g),m.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:function(e){return y.apply(this,arguments)}},m.a.createElement(we.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,primary:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,className:e.textField,ref:t}),m.a.createElement(we.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",className:e.textField,ref:n}),m.a.createElement(we.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password-reenter",label:"Re-enter Password",type:"password",id:"password-reenter",color:"primary",className:e.textField}),m.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:x},"Create Account"),m.a.createElement(N.a,{container:!0,className:e.links},m.a.createElement(N.a,{item:!0,xs:12},m.a.createElement(f.a,{href:"/login",color:"primary"},"Already have an account? Login"))))))))}var Oe=Object(B.a)((function(e){return{rootRoot:{backgroundColor:"#21242b",display:"flex",justifyContent:"center",paddingTop:"10%",height:"100vh"},root:{display:"flex",flexDirection:"column",justifyContent:"center",color:"#FFFFFF",backgroundColor:"#4e5361",height:"60%"},title:{fontWeight:"600"},paper:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"3%"},form:{width:"90%",maxWidth:"600px",marginTop:e.spacing(1),marginBottom:"100px",alignItems:"center"},checkBox:{width:"100%",margin:"auto"},textField:{maxWidth:"500px",color:"primary",borderColor:"primary"},submit:{width:"30%",margin:"10px 35% 25px"},links:{textAlign:"center",margin:"auto"}}}));function ke(){var e=Oe(),t=Object(d.useRef)(),n=Object(d.useRef)(),a=z().login,o=Object(d.useState)(""),s=Object(u.a)(o,2),g=s[0],b=s[1],v=Object(c.g)(),h=Object(d.useState)(!1),x=Object(u.a)(h,2),E=x[0],w=x[1];function y(){return(y=Object(l.a)(i.a.mark((function e(r){var c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),console.log(t.current.value),console.log(n.current.value),c=document.getElementById("email").value,o=document.getElementById("password").value,console.log(c),e.prev=6,b(""),w(!0),e.next=11,a(c,o);case 11:v.push("/"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),b("Failed to login");case 17:w(!1);case 18:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}return m.a.createElement("div",{className:e.rootRoot},m.a.createElement(he.a,{variant:"outlined",raised:"true",className:e.root},m.a.createElement(xe.a,{component:"main",maxWidth:"xs"},m.a.createElement(r.a,null),m.a.createElement("div",{className:e.paper},m.a.createElement(Ee.a,{component:"h1",variant:"h5",color:"primary",className:e.title},"Log in"),g&&m.a.createElement(p.a,{severity:"error"},g),m.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:function(e){return y.apply(this,arguments)}},m.a.createElement(we.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,className:e.textField,ref:t}),m.a.createElement(we.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",className:e.textField,ref:n}),m.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:E},"Log In"),m.a.createElement(N.a,{container:!0,className:e.links},m.a.createElement(N.a,{item:!0,xs:12},m.a.createElement(f.a,{href:"/signup",color:"primary"},"Haven't got an Account? Sign up"))))))))}n(140);var Ne=function(){return m.a.createElement("div",null,m.a.createElement(H,null,m.a.createElement(c.d,null,m.a.createElement(c.b,{exact:!0,path:"/signup",component:je}),m.a.createElement(c.b,{exact:!0,path:"/login",component:ke}),m.a.createElement(c.b,{exact:!0,path:"/",component:me}),m.a.createElement(c.b,{exact:!0,path:"/train",component:ve}),m.a.createElement(c.b,{exact:!0,path:"/quiz",component:pe}))))},Ce=n(19),Ie=n.n(Ce),Be=n(139),Se=Object(Be.a)({palette:{primary:{main:"#10b665"},secondary:{main:"#1a1b20"}}});Ie.a.render(m.a.createElement(m.a.StrictMode,null,m.a.createElement(a.a,{theme:Se},m.a.createElement(w.a,null,m.a.createElement(r.a,null),m.a.createElement(Ne,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[148,1,2]]]);
//# sourceMappingURL=main.3110d4b7.chunk.js.map